<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const promiseOne = new Promise(function(resolve, reject){
            // Simulate an async task
            setTimeout(function(){
                console.log("Async task is complete");
                resolve();
            }, 1000);
        });
        
        promiseOne.then(function(){
            console.log('promise consumed');
        });


        new Promise(function(resolve, reject){
           setTimeout(function(){
               console.log('Async task 2');
               resolve();
           }, 1000); 
        }).then(function(){
            console.log('Async 2 resolved');
        });


        const promiseThree = new Promise(function(resolve, reject){
           setTimeout(function(){
               resolve({username: "chai", email: "chai@example.com"});
           }, 1000); 
        });
        
        promiseThree.then(function(user){
            console.log(user);
        });


        const promiseFour = new Promise(function(resolve, reject){
            setTimeout(function(){
                let error = false;  // Toggle this value to test error vs success
                if (!error) {
                    resolve({username: 'hitesh', password: '123'});
                } else {
                    reject('ERROR: something went wrong');
                }
            }, 1000);
        });

        promiseFour
            .then((user) => {
                console.log(user);
                return user.username;
            })
            .then((username) => {
                console.log(username);
            })
            .catch(function(error){
                console.log(error);
            })
            .finally(()=>{
                console.log('the promise is either resolved or rejecte')
            })



            const promiseFive = new Promise(function(resolve, reject){
                setTimeout(function(){
                    let error = false;  // Toggle this value to test error vs success
                    if (!error) {
                        resolve({username: 'java', password: '1233'});
                    } else {
                        reject('ERROR: jswent wrong');
                    }
                }, 1000);
            })

         async   function consumePromiseFive(){
            try{
                const  response = await promiseFive
            console.log(response)
            }
            catch{
                console.log(error);
            }
         } 

         consumePromiseFive()


         // async function getAllusers(){
         //   try{
          //      const response = await fetch('https://jsonplaceholder.typicode.com/users')
         //       const dta = await response.json()
          //  }
          //  catch(error){
           //     console.log('E:',error)

           // }
        // } 

       // getAllusers()


       fetch('https://jsonplaceholder.typicode.com/users')
       .then((response)=>{
        return response.json()
       })
       .then((data)=>{
        console.log(data);
       })
       .catch((error)=>{
        console.log(error)
       })








    </script>
</body>
</html>
